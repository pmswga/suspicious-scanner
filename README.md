# suspicious-scanner

В программе 5 классов:

    **Scanner** - основной класс, в котором реализован алгоритм сканирования
	
    **Validator** - класс содержащий список задаваемых правил и метод для проверки правила для указанного файла
	
    **ValidatorCode** - перечисление кодов ошибок и статусов, возникающих при валидации
	
    **Logger** - класс, содержащий список записей о просканированных файлах и методами для "фильтра" этих записей
	
    **LoggerRule** - класс, содержащий название правила и регулярное выражение

Общий алгоритм работы:

    1) получить список файлов в текущем каталоге
	
    2) если это каталог, то обработать его
	
    3) иначе это файл, то применить все правила валидации к файлу
	
    4) добавить лог

Основные проблемы, которые требуют более тщательного изучения:

    * обработать большее количество возможных ошибок связанных с доступом к файлу
	
    * обработать большее количество возможных ошибок связанных с неправильными данными и проверкой кодов состояния ошибок, и обработкой исключений
	
    * для повышения производительности можно создавать поток на каждую папку в корневом каталоге, но не более
	
Некоторые замечания:
	* не везде использую осознанную передачу аргументов (в некоторых местах стоит передавать аргументы через move-семантику)
	
	* голые указатели

Итоги:

    * утечек памяти не обнаружено (проверно с помощью valgrind)
	
    * предполагаемая алгоритмическая алгоритма сканирования сложность - O(n^3)
	
    * при передачи несуществующей папки возникнет исключение

Для запуска:

    1) скомпилировать
    2) ./suspicious-scanner [your path]
    3) Пример выполнения.

![Example](/example.png)

Некоторые особенности:

    1) На изображении видно, что всего обработано 10 элементов. Из них:

    (D) 2 папки
    (V) 2 валидных файла
    (E) 2 файла с ошибками
    (S) 4 подозрительных файла
    Количество всех элементов N = D + V + E + S

    2) Файлы, размеры которых равны 0 байтов, отбрасываются и считаются как файлы с ошибкой
